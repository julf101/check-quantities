{"level":"error","message":"ReferenceError: /Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/index.ejs:1\n >> 1| <%- include('layout', { title: 'Stock Checker' }) %>\n    2| \n    3| <div x-data=\"stockChecker()\" class=\"max-w-2xl mx-auto\">\n    4|     <h1 class=\"text-3xl font-bold mb-6 text-center\">Stock Checker</h1>\n\n/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/layout.ejs:12\n    10| <body class=\"bg-gray-100 min-h-screen\">\n    11|     <div class=\"container mx-auto px-4 py-8\">\n >> 12|         <%- body %>\n    13|     </div>\n    14|     <script src=\"/js/main.js\"></script>\n    15| </body>\n\nbody is not defined\n    at eval (\"/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/layout.ejs\":15:17)\n    at layout (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:703:17)\n    at include (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:701:39)\n    at eval (\"/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/index.ejs\":10:17)\n    at index (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:703:17)\n    at tryHandleCache (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:274:36)\n    at exports.renderFile [as engine] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:491:10)\n    at View.render (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/view.js:135:8)\n    at tryRender (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/application.js:657:10)\n    at Function.render (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/application.js:609:3)","service":"stock-checker"}
{"level":"error","message":"ReferenceError: /Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/index.ejs:1\n >> 1| <%- include('layout', { title: 'Stock Checker' }) %>\n    2| \n    3| <div x-data=\"stockChecker()\" class=\"max-w-2xl mx-auto\">\n    4|     <h1 class=\"text-3xl font-bold mb-6 text-center\">Stock Checker</h1>\n\n/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/layout.ejs:12\n    10| <body class=\"bg-gray-100 min-h-screen\">\n    11|     <div class=\"container mx-auto px-4 py-8\">\n >> 12|         <%- body %>\n    13|     </div>\n    14|     <script src=\"/js/main.js\"></script>\n    15| </body>\n\nbody is not defined\n    at eval (\"/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/layout.ejs\":15:17)\n    at layout (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:703:17)\n    at include (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:701:39)\n    at eval (\"/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/index.ejs\":10:17)\n    at index (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:703:17)\n    at tryHandleCache (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:274:36)\n    at exports.renderFile [as engine] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:491:10)\n    at View.render (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/view.js:135:8)\n    at tryRender (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/application.js:657:10)\n    at Function.render (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/application.js:609:3)","service":"stock-checker"}
{"level":"error","message":"ReferenceError: /Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/index.ejs:1\n >> 1| <%- include('layout', { title: 'Stock Checker' }) %>\n    2| \n    3| <div x-data=\"stockChecker()\" class=\"max-w-3xl mx-auto p-4\">\n    4|     <h1 class=\"text-3xl font-bold mb-8 text-center\">Stock Checker</h1>\n\n/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/layout.ejs:12\n    10| <body class=\"bg-gray-100 min-h-screen\">\n    11|     <div class=\"container mx-auto px-4 py-8\">\n >> 12|         <%- body %>\n    13|     </div>\n    14|     <script src=\"/js/main.js\"></script>\n    15| </body>\n\nbody is not defined\n    at eval (\"/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/layout.ejs\":15:17)\n    at layout (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:703:17)\n    at include (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:701:39)\n    at eval (\"/Users/JulienFalco/cursor/check-quantities/stock-checker-app/views/index.ejs\":10:17)\n    at index (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:703:17)\n    at tryHandleCache (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:274:36)\n    at exports.renderFile [as engine] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/ejs/lib/ejs.js:491:10)\n    at View.render (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/view.js:135:8)\n    at tryRender (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/application.js:657:10)\n    at Function.render (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/application.js:609:3)","service":"stock-checker"}
{"__augmented":true,"code":"SQLITE_MISUSE","errno":21,"level":"error","message":"Error fetching sample data: SQLITE_MISUSE: Database is closed","service":"stock-checker","stack":"Error: SQLITE_MISUSE: Database is closed\n    at Database.<anonymous> (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/sqlite3/lib/sqlite3.js:19:27)\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n--> in Database#all('SELECT * FROM stock LIMIT 5', [], [Function (anonymous)])\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)"}
{"__augmented":true,"code":"SQLITE_MISUSE","errno":21,"level":"error","message":"Database query error: SQLITE_MISUSE: Database is closed","service":"stock-checker","stack":"Error: SQLITE_MISUSE: Database is closed\n    at Database.<anonymous> (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/sqlite3/lib/sqlite3.js:19:27)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:36:8\n    at new Promise (<anonymous>)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:31:10)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n--> in Database#all('SELECT * FROM stock WHERE materialNumberId LIKE ?', [ 'NF0A899290O%' ], [Function (anonymous)])\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:36:8\n    at new Promise (<anonymous>)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:31:10)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15"}
{"__augmented":true,"code":"SQLITE_MISUSE","errno":21,"level":"error","message":"Error checking stock: SQLITE_MISUSE: Database is closed","service":"stock-checker","stack":"Error: SQLITE_MISUSE: Database is closed\n    at Database.<anonymous> (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/sqlite3/lib/sqlite3.js:19:27)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:36:8\n    at new Promise (<anonymous>)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:31:10)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n--> in Database#all('SELECT * FROM stock WHERE materialNumberId LIKE ?', [ 'NF0A899290O%' ], [Function (anonymous)])\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:36:8\n    at new Promise (<anonymous>)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:31:10)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15"}
{"level":"error","message":"Error checking stock: db.all is not a function","service":"stock-checker","stack":"TypeError: db.all is not a function\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error checking stock: db.all is not a function","service":"stock-checker","stack":"TypeError: db.all is not a function\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error checking stock: db.all is not a function","service":"stock-checker","stack":"TypeError: db.all is not a function\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error checking stock: db.all is not a function","service":"stock-checker","stack":"TypeError: db.all is not a function\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error checking stock: db.all is not a function","service":"stock-checker","stack":"TypeError: db.all is not a function\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:280:10)"}
{"level":"error","message":"Error checking stock: db.all is not a function","service":"stock-checker","stack":"TypeError: db.all is not a function\n    at logSampleData (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:74:6)\n    at exports.getStockInfo (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/services/stockService.js:22:3)\n    at exports.checkStock (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/controllers/stockController.js:12:42)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/express/lib/router/index.js:280:10)"}
{"code":11000,"level":"error","message":"Error inserting final batch: E11000 duplicate key error collection: stockDB.stock index: _id_ dup key: { _id: ObjectId('671149e827f23a194eb427ac') }","result":{"deletedCount":0,"insertedCount":0,"insertedIds":{},"matchedCount":0,"modifiedCount":0,"upsertedCount":0,"upsertedIds":{}},"service":"stock-checker","stack":"MongoBulkWriteError: E11000 duplicate key error collection: stockDB.stock index: _id_ dup key: { _id: ObjectId('671149e827f23a194eb427ac') }\n    at OrderedBulkOperation.handleWriteError (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongodb/lib/bulk/common.js:860:22)\n    at resultHandler (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongodb/lib/bulk/common.js:350:27)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongodb/lib/utils.js:297:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","writeErrors":[{"code":11000,"errmsg":"E11000 duplicate key error collection: stockDB.stock index: _id_ dup key: { _id: ObjectId('671149e827f23a194eb427ac') }","index":0,"op":{"_id":"671149e827f23a194eb427ac","atpCurrentWeek30plus":4,"brandTerritory":"317 - Mountain Sports","characteristicValueForMainSizesOfVariantsId":"S","colorNrfColorCode":"312 - OLIVE","crossPlantConfigurableMaterial":"NF0A87ZMPIB1","fashionInformationField1":"M - Mens","hs2ProductCategory":"115 - APP_Outerwear","lastSeasonYearSeasonEMEA":"F02024","lotLogoFullbleedDesktop":"https://images.thenorthface.com/is/image/TheNorthFaceEU/NF0A87ZMPIB-HERO?$hero-fullbleed-desktop$","materialNumberId":"NF0A87ZMPIB1002","materialNumberText":"M BREITHORN HDY FOREST OLIVE, Small","plant":"D060 - VF EDC (BE)","style":"M BREITHORN HDY"}}]}
{"level":"error","message":"Error fetching sample data: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error checking stock: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error fetching sample data: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error checking stock: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error fetching sample data: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error checking stock: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error fetching sample data: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
{"level":"error","message":"Error checking stock: Client must be connected before running operations","service":"stock-checker","stack":"MongoNotConnectedError: Client must be connected before running operations\n    at executeOperationAsync (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:24:19)\n    at /Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:45\n    at maybeCallback (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/utils.js:337:21)\n    at executeOperation (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/operations/execute_operation.js:12:38)\n    at FindCursor._initialize (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/find_cursor.js:54:50)\n    at [kInit] (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:444:14)\n    at next (/Users/JulienFalco/cursor/check-quantities/stock-checker-app/node_modules/mongoose/node_modules/mongodb/lib/cursor/abstract_cursor.js:512:22)\n    at node:internal/util:432:7\n    at new Promise (<anonymous>)\n    at next (node:internal/util:418:12)"}
